local HttpService = game:GetService("HttpService")
local Task = game:GetService("RunService").Heartbeat

local MinSlots = 2 -- How many player slots should be available in the server.
local URL = ("https://games.roblox.com/v1/games/"..tostring(game.PlaceId).."/servers/Public?sortOrder=Asc&limit=100")

local function request(url)
    return game:HttpGet(url)
end

local ServerHop = function()
    while true do
        local List = request(URL)
        List = HttpService:JSONDecode(List)
        local AvailableServer = nil 

        for _, Server in ipairs(List.data) do
            if (Server.id ~= game.JobId) and (Server.playing < (Server.maxPlayers - MinSlots)) then 
                AvailableServer = Server
                break
            end
        end

        if AvailableServer then
            game:GetService("TeleportService"):TeleportToPlaceInstance(game.PlaceId, AvailableServer.id)
            break
        end

        -- No available servers found, wait before checking again
        Task:Wait(1) -- Adjust wait time as needed
    end
end

ServerHop()
